var sbi_js_exists=void 0!==sbi_js_exists;if(!sbi_js_exists){function sbi_init(){window.sbiFeedMeta={},jQuery("#sb_instagram.sbi").each(function(t){var e=jQuery(this),i=e.find("#sbi_images"),s=e.find("#sbi_load .sbi_load_btn"),o="standard_resolution",n=parseInt(this.getAttribute("data-cols"),10),r=JSON.parse(this.getAttribute("data-options")),a="none",d=this.getAttribute("data-id"),l=this.getAttribute("data-num"),c="",u=[];switch(jQuery(this).attr("data-sbi-index",t),r.feedIndex=t,window.sbiFeedMeta[t]={error:{},idsInFeed:[]},""!==r.sortby&&(a=r.sortby),this.getAttribute("data-res")){case"auto":var h=e.innerWidth(),p=e.innerWidth()/n,m=jQuery(window).width();m<640&&(h<640&&e.is(".sbi_col_3, .sbi_col_4, .sbi_col_5, .sbi_col_6")&&(p=300),h<640&&e.is(".sbi_col_7, .sbi_col_8, .sbi_col_9, .sbi_col_10")&&(p=100),h>320&&h<480&&m<480&&(p=480),h<320&&m<480&&(p=300)),o=p<150?"thumbnail":p<320?"low_resolution":"standard_resolution",h<=100&&(o="low_resolution");break;case"thumb":o="thumbnail";break;case"medium":o="low_resolution";break;default:o="standard_resolution"}var b=d.replace(/ /g,"").split(","),f=b,g="",_="https://api.instagram.com/v1/users/"+b[0]+"?access_token="+sb_instagram_js_options.sb_instagram_at;r.headercolor.length&&(g='style="color: #'+r.headercolor+'"'),jQuery.ajax({method:"GET",url:_,dataType:"jsonp",success:function(t){void 0===t.meta.error_message&&(c='<a href="https://instagram.com/'+t.data.username+'" target="_blank" title="@'+t.data.username+'" class="sbi_header_link">',c+='<div class="sbi_header_text">',c+="<h3 "+g,0!=t.data.bio.length&&"true"===r.showbio||(c+=' class="sbi_no_bio"'),c+=">@"+t.data.username+"</h3>",t.data.bio.length&&"true"===r.showbio&&(c+='<p class="sbi_bio" '+g+">"+t.data.bio+"</p>"),c+="</div>",c+='<div class="sbi_header_img">',c+='<div class="sbi_header_img_hover"><i></i></div>',c+='<img src="'+t.data.profile_picture+'" alt="'+t.data.full_name+'" width="50" height="50">',c+="</div>",c+="</a>",e.find(".sb_instagram_header").prepend(c),e.find(".sbi_follow_btn").length&&e.find(".sbi_follow_btn a").attr("href","https://instagram.com/"+t.data.username))}}),jQuery.each(f,function(d,c){window.sbiFeedMeta[t].idsInFeed.push(c);var h=new instagramfeed({target:i,get:"user",sortBy:a,resolution:o,limit:parseInt(l,10),template:'<div class="sbi_item sbi_type_{{model.type}} sbi_new" id="sbi_{{id}}" data-date="{{model.created_time_raw}}"><div class="sbi_photo_wrap"><a class="sbi_photo" href="{{link}}" target="_blank"><img src="{{image}}" alt="{{caption}}" width="200" height="200" /></a></div></div>',filter:function(t){var e=new Date(1e3*t.created_time).getTime();return t.created_time_raw=e,null!=t.caption&&(t.caption.text=t.caption.text.replace(/[^a-zA-Z ]/g,"")),t.images.thumbnail.url=t.images.thumbnail.url.split("?ig_cache_key")[0],t.images.standard_resolution.url=t.images.standard_resolution.url.split("?ig_cache_key")[0],t.images.low_resolution.url=t.images.low_resolution.url.split("?ig_cache_key")[0],!0},userId:parseInt(c,10),accessToken:sb_instagram_js_options.sb_instagram_at,after:function(){if(e.find(".sbi_loader").remove(),e.find(".sbi_load_btn .fa-spinner").hide(),e.find(".sbi_load_btn .sbi_btn_text").css("opacity",1),this.hasNext()&&u.push("1"),u.length>0?s.show():(s.hide(),e.css("padding-bottom",0)),"function"==typeof sbi_custom_js&&setTimeout(function(){sbi_custom_js()},100),"thumbnail"!==o){var t=t||{VER:"0.9.944"};t.bgs_Available=!1,t.bgs_CheckRunned=!1,function(e){e.fn.extend({sbi_imgLiquid:function(i){this.defaults={fill:!0,verticalAlign:"center",horizontalAlign:"center",useBackgroundSize:!0,useDataHtmlAttr:!0,responsive:!0,delay:0,fadeInTime:0,removeBoxBackground:!0,hardPixels:!0,responsiveCheckTime:500,timecheckvisibility:500,onStart:null,onFinish:null,onItemStart:null,onItemFinish:null,onItemError:null},function(){if(!t.bgs_CheckRunned){t.bgs_CheckRunned=!0;var i=e('<span style="background-size:cover" />');e("body").append(i),function(){var e=i[0];if(e&&window.getComputedStyle){var s=window.getComputedStyle(e,null);s&&s.backgroundSize&&(t.bgs_Available="cover"===s.backgroundSize)}}(),i.remove()}}();var s=this;return this.options=i,this.settings=e.extend({},this.defaults,this.options),this.settings.onStart&&this.settings.onStart(),this.each(function(i){function o(){(d.responsive||c.data("sbi_imgLiquid_oldProcessed"))&&c.data("sbi_imgLiquid_settings")&&(d=c.data("sbi_imgLiquid_settings"),l.actualSize=l.get(0).offsetWidth+l.get(0).offsetHeight/1e4,l.sizeOld&&l.actualSize!==l.sizeOld&&r(),l.sizeOld=l.actualSize,setTimeout(o,d.responsiveCheckTime))}function n(){c.data("sbi_imgLiquid_error",!0),l.addClass("sbi_imgLiquid_error"),d.onItemError&&d.onItemError(i,l,c),a()}function r(){var t,e,s,o,n,r,u,h,p=0,m=0,b=l.width(),f=l.height();void 0===c.data("owidth")&&c.data("owidth",c[0].width),void 0===c.data("oheight")&&c.data("oheight",c[0].height),d.fill===b/f>=c.data("owidth")/c.data("oheight")?(t="100%",e="auto",s=Math.floor(b),o=Math.floor(b*(c.data("oheight")/c.data("owidth")))):(t="auto",e="100%",s=Math.floor(f*(c.data("owidth")/c.data("oheight"))),o=Math.floor(f)),u=b-s,"left"===(n=d.horizontalAlign.toLowerCase())&&(m=0),"center"===n&&(m=.5*u),"right"===n&&(m=u),-1!==n.indexOf("%")&&((n=parseInt(n.replace("%",""),10))>0&&(m=u*n*.01)),h=f-o,"left"===(r=d.verticalAlign.toLowerCase())&&(p=0),"center"===r&&(p=.5*h),"bottom"===r&&(p=h),-1!==r.indexOf("%")&&((r=parseInt(r.replace("%",""),10))>0&&(p=h*r*.01)),d.hardPixels&&(t=s,e=o),c.css({width:t,height:e,"margin-left":Math.floor(m),"margin-top":Math.floor(p)}),c.data("sbi_imgLiquid_oldProcessed")||(c.fadeTo(d.fadeInTime,1),c.data("sbi_imgLiquid_oldProcessed",!0),d.removeBoxBackground&&l.css("background-image","none"),l.addClass("sbi_imgLiquid_nobgSize"),l.addClass("sbi_imgLiquid_ready")),d.onItemFinish&&d.onItemFinish(i,l,c),a()}function a(){i===s.length-1&&s.settings.onFinish&&s.settings.onFinish()}var d=s.settings,l=e(this),c=e("img:first",l);return c.length?(c.data("sbi_imgLiquid_settings")?(l.removeClass("sbi_imgLiquid_error").removeClass("sbi_imgLiquid_ready"),d=e.extend({},c.data("sbi_imgLiquid_settings"),s.options)):d=e.extend({},s.settings,function(){var e={};if(s.settings.useDataHtmlAttr){var i=l.attr("data-sbi_imgLiquid-fill"),o=l.attr("data-sbi_imgLiquid-horizontalAlign"),n=l.attr("data-sbi_imgLiquid-verticalAlign");("true"===i||"false"===i)&&(e.fill=Boolean("true"===i)),void 0===o||"left"!==o&&"center"!==o&&"right"!==o&&-1===o.indexOf("%")||(e.horizontalAlign=o),void 0===n||"top"!==n&&"bottom"!==n&&"center"!==n&&-1===n.indexOf("%")||(e.verticalAlign=n)}return t.isIE&&s.settings.ieFadeInDisabled&&(e.fadeInTime=0),e}()),c.data("sbi_imgLiquid_settings",d),d.onItemStart&&d.onItemStart(i,l,c),void(t.bgs_Available&&d.useBackgroundSize?(-1===l.css("background-image").indexOf(encodeURI(c.attr("src")))&&l.css({"background-image":'url("'+encodeURI(c.attr("src"))+'")'}),l.css({"background-size":d.fill?"cover":"contain","background-position":(d.horizontalAlign+" "+d.verticalAlign).toLowerCase(),"background-repeat":"no-repeat"}),e("a:first",l).css({display:"block",width:"100%",height:"100%"}),e("img",l).css({display:"none"}),d.onItemFinish&&d.onItemFinish(i,l,c),l.addClass("sbi_imgLiquid_bgSize"),l.addClass("sbi_imgLiquid_ready"),a()):function t(){if(c.data("oldSrc")&&c.data("oldSrc")!==c.attr("src")){var s=c.clone().removeAttr("style");return s.data("sbi_imgLiquid_settings",c.data("sbi_imgLiquid_settings")),c.parent().prepend(s),c.remove(),(c=s)[0].width=0,void setTimeout(t,10)}return c.data("sbi_imgLiquid_oldProcessed")?void r():(c.data("sbi_imgLiquid_oldProcessed",!1),c.data("oldSrc",c.attr("src")),e("img:not(:first)",l).css("display","none"),l.css({overflow:"hidden"}),c.fadeTo(0,0).removeAttr("width").removeAttr("height").css({visibility:"visible","max-width":"none","max-height":"none",width:"auto",height:"auto",display:"block"}),c.on("error",n),c[0].onerror=n,function t(){c.data("sbi_imgLiquid_error")||c.data("sbi_imgLiquid_loaded")||c.data("sbi_imgLiquid_oldProcessed")||(l.is(":visible")&&c[0].complete&&c[0].width>0&&c[0].height>0?(c.data("sbi_imgLiquid_loaded",!0),setTimeout(r,i*d.delay)):setTimeout(t,d.timecheckvisibility))}(),void o())}())):void n()})}})}(jQuery),i=t.injectCss,d=document.getElementsByTagName("head")[0],(l=document.createElement("style")).type="text/css",l.styleSheet?l.styleSheet.cssText=i:l.appendChild(document.createTextNode(i)),d.appendChild(l),e.find(".sbi_photo").sbi_imgLiquid({fill:!0})}var i,d,l,c,h,p,m,b=(c=0,function(t,e){clearTimeout(c),c=setTimeout(t,e)});function f(){if("thumbnail"!==o){var t=e.find(".sbi_photo").eq(0).innerWidth(),i=parseInt(n);if(!e.hasClass("sbi_disable_mobile")){var s=jQuery(window).width();s<640&&parseInt(n)>2&&parseInt(n)<7&&(i=2),s<640&&parseInt(n)>6&&parseInt(n)<11&&(i=4),s<=480&&parseInt(n)>2&&(i=1)}var a=e.find("#sbi_images").width()/i-2*r.imagepadding;t<=a&&(t=a),e.find(".sbi_photo").css("height",t)}}jQuery(window).resize(function(){b(function(){f()},500)}),f(),h=jQuery,p={callback:function(){},runOnLoad:!0,frequency:100,sbiPreviousVisibility:null},m={sbiCheckVisibility:function(t,e){if(jQuery.contains(document,t[0])){var i=e.sbiPreviousVisibility,s=t.is(":visible");e.sbiPreviousVisibility=s,null==i?e.runOnLoad&&e.callback(t,s):i!==s&&e.callback(t,s),setTimeout(function(){m.sbiCheckVisibility(t,e)},e.frequency)}}},h.fn.sbiVisibilityChanged=function(t){var e=h.extend({},p,t);return this.each(function(){m.sbiCheckVisibility(h(this),e)})},jQuery(".sbi").filter(":hidden").sbiVisibilityChanged({callback:function(t,e){f()},runOnLoad:!1}),jQuery("#sb_instagram .sbi_photo").each(function(){$sbi_photo=jQuery(this),$sbi_photo.hover(function(){jQuery(this).fadeTo(200,.85)},function(){jQuery(this).stop().fadeTo(500,1)}),$sbi_photo.closest(".sbi_item").hasClass("sbi_type_video")&&($sbi_photo.find(".sbi_playbtn").length||$sbi_photo.append('<i class="fa fa-play sbi_playbtn"></i>'))}),e.find("#sbi_images .sbi_item.sbi_new").sort(function(t,e){var i=jQuery(t).data("date"),s=jQuery(e).data("date");return"none"==a?s-i:Math.round(Math.random())-.5}).appendTo(e.find("#sbi_images")),setTimeout(function(){jQuery("#sbi_images .sbi_item.sbi_new").removeClass("sbi_new"),u=[]},500),function(){e.removeClass("sbi_small sbi_medium");var t=e.find(".sbi_item").innerWidth();t>120&&t<240?e.addClass("sbi_medium"):t<=120&&e.addClass("sbi_small")}()},error:function(i){var s="",o="",n=i;if(n.indexOf("access_token")>-1)return s+="<p><b>Error: Access Token is not valid or has expired</b><br /><span>This error message is only visible to WordPress admins</span>",o="<p>There's an issue with the Instagram Access Token that you are using. Please obtain a new Access Token on the plugin's Settings page.<br />If you continue to have an issue with your Access Token then please see <a href='https://smashballoon.com/my-instagram-access-token-keep-expiring/' target='_blank'>this FAQ</a> for more information.",void jQuery("#sb_instagram").empty().append('<p style="text-align: center;">Unable to show Instagram photos</p><div id="sbi_mod_error">'+s+o+"</div>");n.indexOf("user does not exist")>-1||n.indexOf("you cannot view this resource")>-1?(window.sbiFeedMeta[t].error={errorMsg:'<p><b>Error: User ID <span class="sbiErrorIds">'+window.sbiFeedMeta[t].idsInFeed[d]+"</span> does not exist, is invalid, or is private</b><br /><span>This error is only visible to WordPress admins</span>",errorDir:"<p>Please double check the Instagram User ID that you are using and ensure that it is valid and not from a private account. To find your User ID simply enter your Instagram user name into this <a href='https://smashballoon.com/instagram-feed/find-instagram-user-id/' target='_blank'>tool</a>.</p>"},e.find("#sbi_mod_error").length?-1==e.find(".sbiErrorIds").text().indexOf(window.sbiFeedMeta[t].idsInFeed[d])&&e.find(".sbiErrorIds").append(","+window.sbiFeedMeta[t].idsInFeed[d]):e.prepend('<div id="sbi_mod_error">'+window.sbiFeedMeta[t].error.errorMsg+window.sbiFeedMeta[t].error.errorDir+"</div>")):n.indexOf("No images were returned")>-1&&(window.sbiFeedMeta[t].error={errorMsg:'<p><b>Error: User ID <span class="sbiErrorNone">'+window.sbiFeedMeta[t].idsInFeed[d]+"</span> has no posts</b><br /><span>This error is only visible to WordPress admins</span>",errorDir:"<p>If you are the owner of this account, make a post on Instagram to see it in your feed.</p>"},e.find("#sbi_mod_error.sbi_error_none").length?-1==e.find(".sbiErrorNone").text().indexOf(window.sbiFeedMeta[t].idsInFeed[d])&&e.find(".sbiErrorNone").append(","+window.sbiFeedMeta[t].idsInFeed[d]):e.prepend('<div id="sbi_mod_error" class="sbi_error_none">'+window.sbiFeedMeta[t].error.errorMsg+window.sbiFeedMeta[t].error.errorDir+"</div>"))}});s.click(function(){jQuery(this).find(".fa-spinner").show(),jQuery(this).find(".sbi_btn_text").css("opacity",0),h.next()}),h.run()})})}(function(){var t;t=function(){function t(t,e){var i,s;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(i in t)s=t[i],this.options[i]=s;this.context=null!=e?e:this,this.unique=this._genKey()}return t.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},t.prototype.next=function(){return!!this.hasNext()&&this.run(this.context.nextUrl)},t.prototype.run=function(e){var i,s;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&((s=document.createElement("script")).id="instafeed-fetcher",s.src=e||this._buildUrl(),document.getElementsByTagName("head")[0].appendChild(s),i="instafeedCache"+this.unique,window[i]=new t(this.options,this),window[i].unique=this.unique),!0},t.prototype.parse=function(t){var e,i,s,o,n,r,a,d,l,c,u,h,p,m,b,f,g,_,y,w;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(u="least"===(h="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"))[0],h[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",u);break;case"liked":t.data=this._sortBy(t.data,"likes.count",u);break;case"commented":t.data=this._sortBy(t.data,"comments.count",u);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&!1===this.options.mock){if(a=t.data,null!=this.options.limit&&a.length>this.options.limit&&(a=a.slice(0,this.options.limit+1||9e9)),i=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(a=this._filter(a,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(s="",n="","",p=document.createElement("div"),m=0,g=a.length;m<g;m++)o=a[m],r=o.images[this.options.resolution].url,this.options.useHttp||(r=r.replace("http://","//")),n=this._makeTemplate(this.options.template,{model:o,id:o.id,link:o.link,image:r,caption:this._getObjectProperty(o,"caption.text"),likes:o.likes.count,comments:o.comments.count,location:this._getObjectProperty(o,"location.name")}),s+=n;for(p.innerHTML=s,b=0,_=(w=[].slice.call(p.childNodes)).length;b<_;b++)c=w[b],i.appendChild(c)}else for(f=0,y=a.length;f<y;f++)o=a[f],d=document.createElement("img"),r=o.images[this.options.resolution].url,this.options.useHttp||(r=r.replace("http://","//")),d.src=r,!0===this.options.links?(e=document.createElement("a"),e.href=o.link,e.appendChild(d),i.appendChild(e)):i.appendChild(d);this.options.target.append(i),document.getElementsByTagName("head")[0].removeChild(document.getElementById("instafeed-fetcher")),l="instafeedCache"+this.unique,window[l]=void 0;try{delete window[l]}catch(t){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},t.prototype._buildUrl=function(){var t,e,i;switch(t="https://api.instagram.com/v1",this.options.get){case"popular":e="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");e="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");e="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the 'userId' option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the 'accessToken' option.");e="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return i=t+"/"+e,null!=this.options.accessToken?i+="?access_token="+this.options.accessToken:i+="?client_id="+this.options.clientId,null!=this.options.limit&&(i+="&count="+this.options.limit),i+="&callback=instafeedCache"+this.unique+".parse"},t.prototype._genKey=function(){var t;return""+(t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)})()+t()+t()+t()},t.prototype._makeTemplate=function(t,e){var i,s,o,n,r;for(s=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,i=t;s.test(i);)o=i.match(s)[1],n=null!=(r=this._getObjectProperty(e,o))?r:"",i=i.replace(s,""+n);return i},t.prototype._getObjectProperty=function(t,e){var i,s;for(s=(e=e.replace(/\[(\w+)\]/g,".$1")).split(".");s.length;){if(i=s.shift(),!(null!=t&&i in t))return null;t=t[i]}return t},t.prototype._sortBy=function(t,e,i){var s;return s=function(t,s){var o,n;return o=this._getObjectProperty(t,e),n=this._getObjectProperty(s,e),i?o>n?1:-1:o<n?1:-1},t.sort(s.bind(this)),t},t.prototype._filter=function(t,e){var i,s,o,n,r;for(i=[],o=function(t){if(e(t))return i.push(t)},n=0,r=t.length;n<r;n++)s=t[n],o(s);return i},t}(),("undefined"!=typeof exports&&null!==exports?exports:window).instagramfeed=t}).call(this),function(){"use strict";var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,i){if(i=void 0!==i?i:this.length,"[object Array]"===Object.prototype.toString.call(this))return t.call(this,e,i);var s,o,n=[],r=this.length,a=e||0;a=a>=0?a:r+a;var d=i||r;if(i<0&&(d=r+i),(o=d-a)>0)if(n=new Array(o),this.charAt)for(s=0;s<o;s++)n[s]=this.charAt(a+s);else for(s=0;s<o;s++)n[s]=this[a+s];return n}}}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,s=function(){},o=function(){return i.apply(this instanceof s&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,o.prototype=new s,o})}jQuery(document).ready(function(t){sbi_init()});